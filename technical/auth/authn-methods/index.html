<!-- https://squidfunk.github.io/mkdocs-material/customization/#overriding-blocks -->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Flexibility Information System">
      
      
      
        <link rel="canonical" href="https://elhub.github.io/flex-information-system/technical/auth/authn-methods/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../authn-model/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Authentication methods - Flexibility Information System Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#authentication-methods" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
    <span>This documentation is work-in-progress and part of the <a href="https://www.euroflex.no/">EuroFlex research project</a>.</span>
    <span>Read more about <a href="/flex-information-system/privacy">privacy and cookies</a></span>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Flexibility Information System Documentation" class="md-header__button md-logo" aria-label="Flexibility Information System Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Flexibility Information System Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Authentication methods
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Flexibility Information System Documentation" class="md-nav__button md-logo" aria-label="Flexibility Information System Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Flexibility Information System Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Flexibility Information System
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Privacy and Cookies
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/communication-and-coordination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Communication and Coordination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/conceptual-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conceptual Model and Terminology
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/end-user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    End Users
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/grid-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grid Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/notification-and-notice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification and Notice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/ready-for-market/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ready for Market
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/time-series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/get-ready-for-market/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Get Ready for Market
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/test-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../processes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Processes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Processes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-lookup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Lookup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/delivery-verification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Delivery verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/revocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Contract Revocation and Termination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-product-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Product Application and Qualification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-product-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-registration-and-approval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Registration and Approval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-switching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Switching Initiated by New SP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-grid-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Grid Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-product-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Product Application and Prequalification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-product-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/system-operator-product-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SO Product Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../resources/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_balance_responsible_party/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Balance Responsible Party
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_bidding_zone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Bidding Zone
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_end_user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point End User
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_energy_supplier/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Energy Supplier
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_metering_grid_area/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Metering Grid Area
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit_service_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit Service Provider
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/entity_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/identity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/metering_grid_area/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metering Grid Area
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/notice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/notification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/party/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Party
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/party_membership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Party Membership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/product_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Product Type
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_application_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Application Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_prequalification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Prequalification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_prequalification_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Prequalification Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_membership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Membership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_product_application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Product Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_product_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_product_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Product Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/system_operator_product_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Operator Product Type
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/technical_resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Technical
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Technical
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../identifiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identifiers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openapi-schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Structure of JSON schemas in the OpenAPI documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-synchronisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource synchronisation from external sources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time-series-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Series Service Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Auth
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Auth
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Authentication methods
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication methods
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#openid-connect" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpenID Connect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client credentials
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jwt-bearer" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT Bearer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-exchange" class="md-nav__link">
    <span class="md-ellipsis">
      
        Token exchange
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-client-credentials-and-token-exchange" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example - client credentials and token exchange
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-information-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        User information endpoint
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authn-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authz-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authorization model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to interact with the FIS as an API user
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User creation and access control management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#openid-connect" class="md-nav__link">
    <span class="md-ellipsis">
      
        OpenID Connect
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#client-credentials" class="md-nav__link">
    <span class="md-ellipsis">
      
        Client credentials
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jwt-bearer" class="md-nav__link">
    <span class="md-ellipsis">
      
        JWT Bearer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#token-exchange" class="md-nav__link">
    <span class="md-ellipsis">
      
        Token exchange
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example-client-credentials-and-token-exchange" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example - client credentials and token exchange
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-information-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        User information endpoint
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="authentication-methods">Authentication methods</h1>
<p>Authentication is the process of establishing the "raw" identity of the user.
For us, this means identifying the <em>entity</em>, i.e. the individual or organisation
using the system. We provide different ways of authentication, depending on how
you want to interact with the system.</p>
<p>Individuals what want to log into the portal will log in using the
<code>OpenID Connect</code> protocol with an identity provider. In a production setting the
identity provider will be IDPorten.</p>
<p>Entities that want to use the API will have to create and attach clients to
their entity resource in the system. Creating a client generates a unique
identifier and allows setting a password and/or a public key associated to this
client. From there, users have two ways of authenticating.</p>
<ul>
<li><code>JWT Bearer</code> - The entity uploads a public key to one of its clients and uses
  a self-signed JWT Authorization grant to authenticate.</li>
<li><code>Client Credentials</code> - The entity uses a client_id and client_secret to
  authenticate. The client_id is the UUID of one of the clients added by the
  entity in the system, and client_secret is a password that must be set on
  this client.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Possible future use of enterprise certificates</p>
<p>We are considering the use of enterprise certificates and/or Maskinporten in
a production setting.</p>
</div>
<h2 id="openid-connect">OpenID Connect</h2>
<p>A regular user in the portal will be authenticated via a OpenID Connect
compatible provider. We believe that IDPorten is the most likely candidate for a
production system. In test we are using Oracle Cloud Identity and
Access Management (IAM).</p>
<p>The OpenID connect flow is based on redirects between the portal and the Idenity
provider, and as part of the process, the Flexibility Information System will
obtain the identity of the user from the Identity provider and issue an access
token for the portal.</p>
<h2 id="client-credentials">Client credentials</h2>
<div class="admonition warning">
<p class="admonition-title">Deprecated</p>
<p>This is a temporary solution that will be removed in later versions of the
FIS. Use the <code>JWT Bearer</code> method instead.</p>
</div>
<p>To use this method, first log in to the portal and add a new client to the
entity. Then, write down the generated Client ID on the created client, because
you will need it to log in, and set the Client Secret on the client. This should
be a strong password. Consider generating a random password using some kind of
online generator.</p>
<p>Once Client Secret is set in the portal, the connection is established through
basic authentication on the auth API's <code>/token</code> endpoint, using the
<a href="https://www.oauth.com/oauth2-servers/access-tokens/client-credentials/">client_credentials</a>
<code>grant_type</code> with
<a href="https://datatracker.ietf.org/doc/html/rfc6749#section-2.3.1">Client Password</a>,
in a URL-encoded body.</p>
<p>Set <code>Content-Type</code> header as <code>application/x-www-form-urlencoded</code>.</p>
<p>Example body:</p>
<div class="highlight"><pre><span></span><code>grant_type=client_credentials&amp;client_id=&lt;client_id&gt;&amp;client_secret=&lt;client_secret&gt;
</code></pre></div>
<p>The result is a JWT access token for the entity that can be used to access the API.</p>
<h2 id="jwt-bearer">JWT Bearer</h2>
<p>This is the preferred method for authenticating towards the API. The method
uses
<a href="https://datatracker.ietf.org/doc/html/rfc7523#section-2.1">JWTs as authorization grants</a>
as defined by RFC7523. This the same method as <a href="https://docs.digdir.no/docs/Maskinporten/maskinporten_auth_server-to-server-oauth2">used by Maskinporten</a>.</p>
<p>To authenticate, the client must send a request with <code>Content-Type</code> header as
<code>application/x-www-form-urlencoded</code> and a body similar to the following:</p>
<div class="highlight"><pre><span></span><code>grant_type=urn:ietf:params:oauth:grant-type:jwt-bearer&amp;assertion=&lt;authorization grant JWT&gt;
</code></pre></div>
<p>The magic is in the assertion JWT. Use the following payload.</p>
<table>
<thead>
<tr>
<th>Claim</th>
<th>Name</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>aud</code></td>
<td>Audience</td>
<td>The URL of the token endpoint.</td>
<td><code>https://flex-test.elhub.no/auth/v0/</code></td>
</tr>
<tr>
<td><code>exp</code></td>
<td>Expiration Time</td>
<td>The expiration time of the JWT. Maximum 120 seconds after <code>iat</code>.</td>
<td></td>
</tr>
<tr>
<td><code>iat</code></td>
<td>Issued At</td>
<td>The time the JWT was issued. Only tokens with <code>iat</code> within 10 seconds of server time will be accepted.</td>
<td></td>
</tr>
<tr>
<td><code>iss</code></td>
<td>Issuer</td>
<td>UUID <code>client_id</code> of the entity client whose key is used to sign the token.</td>
<td><code>2fc014f2-e9b4-41d4-ad6b-c360b8ee6229</code></td>
</tr>
<tr>
<td><code>jti</code></td>
<td>JWT</td>
<td>A unique identifier for the JWT. For (future) protection against replay attacks.</td>
<td></td>
</tr>
<tr>
<td><code>sub</code></td>
<td>Subject</td>
<td>Optional. Use if the client wants to assume party as part of the request. Format <code>no:party:&lt;id_type&gt;:&lt;id&gt;</code>. <code>id_type</code> is the party's <code>business_id_type</code>.</td>
<td><code>no:party:gln:1234567890123</code></td>
</tr>
</tbody>
</table>
<p>The JWT must be signed by the entity client's RSA private key. The public key
must be uploaded to the client in the portal prior to making the request. An
example of how to generate a key pair is shown below. Upload the contents of the
file <code>.flex.pub.pem</code> in the portal.</p>
<div class="highlight"><pre><span></span><code>openssl<span class="w"> </span>genrsa<span class="w"> </span>-out<span class="w"> </span>.flex.key.pem<span class="w"> </span><span class="m">3072</span>
openssl<span class="w"> </span>rsa<span class="w"> </span>-in<span class="w"> </span>.flex.key.pem<span class="w"> </span>-pubout<span class="w"> </span>-out<span class="w"> </span>.flex.pub.pem
</code></pre></div>
<p>How to sign a JWT using the private key depends on your programming
language/system of choice. Here are a few examples/guides:</p>
<ul>
<li>Python - <a href="https://pyjwt.readthedocs.io/en/stable/usage.html#encoding-decoding-tokens-with-rs256-rsa">PyJWT</a></li>
<li>Bash - See this <a href="https://gist.github.com/shu-yusa/213901a5a0902de5ad3f62a61036f4ce?permalink_comment_id=4263484#gistcomment-4263484">gist</a></li>
<li>Go - <a href="https://github.com/lestrrat-go/jwx/blob/develop/v3/docs/02-jws.md#verification-using-a-jwks">jwx</a></li>
</ul>
<p>The response from the endpoint will be a JWT access token that can be used to
access the API.</p>
<h2 id="token-exchange">Token exchange</h2>
<p>If the user has logged in via client credentials or OpenID connect, the user can
assume a party by doing a
<a href="https://datatracker.ietf.org/doc/html/rfc8693">OAuth 2.0 Token Exchange (RFC8693)</a>
that lets an entity "impersonate" a party with the returned token. This is done
by calling the same <code>/token</code> endpoint, this time with the <code>grant_type</code>
<code>urn:ietf:params:oauth:grant-type:token-exchange</code>.</p>
<p>RFC8693 does <em>not</em> cover the case where the client that does token exchange
doesn't have a valid token for the party it wants to impersonate. The spec is
mostly covering use-cases of backends calling other backends, but is flexible
enough to fit our needs.</p>
<div class="admonition quote">
<p class="admonition-title">RFC8693</p>
<p>Additional profiles may provide more detailed requirements around the specific
nature of the parties and trust involved, such as <strong>whether signing and/or
encryption of tokens is needed</strong> or if proof-of-possession-style tokens will be
required or issued. However, <strong>such details will often be policy decisions made
with respect to the specific needs of individual deployments</strong> and will be
configured or implemented accordingly.</p>
</div>
<p>Other systems have met this gap by loosely implementing the RFC, e.g. by
<a href="https://zitadel.com/docs/guides/integrate/token-exchange#impersonation-by-user-id-example">using a custom token type</a>
or adding
<a href="https://www.keycloak.org/docs/23.0.2/securing_apps/#form-parameters">additional form parameters</a>.
We do it by using the access token, first obtained when logging in as an entity,
as the <code>actor_token</code>.
Instead of using another token (<em>i.e.</em>, <code>subject_token</code>) to specify the party
the user wants to assume, we just expect the party ID in an additional <code>scope</code>
parameter in the URL-encoded body of the request.</p>
<div class="highlight"><pre><span></span><code>grant_type=urn:ietf:params:oauth:grant-type:token-exchange
&amp;actor_token=&lt;token from step 1&gt;&amp;
&amp;actor_token_type=urn:ietf:params:oauth:token-type:jwt
&amp;scope=assume:party:&lt;desired_party_id&gt;
</code></pre></div>
<p>The response from the endpoint will be a JWT access token that can be used to
access the API.</p>
<h2 id="example-client-credentials-and-token-exchange">Example - client credentials and token exchange</h2>
<p>Below is an example of realistic login sequence:</p>
<ul>
<li>a user logs in as an entity by giving their credentials in the first call to
  the <code>/token</code> endpoint;</li>
<li>they now have sufficient authorisation to read information about themselves,
  including which parties they are allowed to assume;</li>
<li>they ask for a token exchange in the second call to the <code>/token</code> endpoint,
  in order to assume one of the possible parties.</li>
</ul>
<p><img alt="Login Sequence" src="../../../diagrams/login_sequence.png" /></p>
<h2 id="user-information-endpoint">User information endpoint</h2>
<p>OIDC provides a way to get user information. This is done by calling the
<code>/userinfo</code> endpoint with the access token. The response is a JSON object
with a set of claims about the user.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.indexes", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>