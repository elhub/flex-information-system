<!-- https://squidfunk.github.io/mkdocs-material/customization/#overriding-blocks -->


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for the Flexibility Information System">
      
      
      
        <link rel="canonical" href="https://elhub.github.io/flex-information-system/technical/auth/getting-started/">
      
      
        <link rel="prev" href="../authz-model/">
      
      
        <link rel="next" href="../users-management/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>How to interact with the FIS as an API user - Flexibility Information System Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../style.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-interact-with-the-fis-as-an-api-user" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
        <aside class="md-banner">
          <div class="md-banner__inner md-grid md-typeset">
            
              <button class="md-banner__button md-icon" aria-label="Don't show this again">
                
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
              </button>
            
            
    <span>This documentation is work-in-progress and part of the <a href="https://www.euroflex.no/">EuroFlex research project</a>.</span>
    <span>Read more about <a href="/flex-information-system/privacy">privacy and cookies</a></span>

          </div>
          
            <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script>
          
        </aside>
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Flexibility Information System Documentation" class="md-header__button md-logo" aria-label="Flexibility Information System Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Flexibility Information System Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              How to interact with the FIS as an API user
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Flexibility Information System Documentation" class="md-nav__button md-logo" aria-label="Flexibility Information System Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Flexibility Information System Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Flexibility Information System
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Privacy and Cookies
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../concepts/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/communication-and-coordination/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Communication and Coordination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/conceptual-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Conceptual Model and Terminology
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/end-user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    End Users
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/grid-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Grid Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/notification-and-notice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification and Notice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/ready-for-market/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Ready for Market
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/time-series/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Series
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/get-ready-for-market/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Get Ready for Market
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../guides/test-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Test Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../processes/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Processes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Processes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-lookup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Lookup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/controllable-unit-update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CU Update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/revocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Contract Revocation and Termination
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-product-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Product Application and Qualification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-product-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-registration-and-approval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Registration and Approval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-provider-switching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SP Switching Initiated by New SP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-grid-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Grid Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-product-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Product Application and Prequalification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-product-suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/service-providing-group-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SPG Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../processes/system-operator-product-registration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SO Product Registration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../resources/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Resources
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_balance_responsible_party/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Balance Responsible Party
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_bidding_zone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Bidding Zone
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_end_user/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point End User
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_energy_supplier/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Energy Supplier
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/accounting_point_metering_grid_area/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Accounting Point Metering Grid Area
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit_service_provider/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit Service Provider
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/controllable_unit_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Controllable Unit Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/entity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/entity_client/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Entity Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/event/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Event
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/identity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/metering_grid_area/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metering Grid Area
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/notice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notice
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/notification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/party/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Party
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/party_membership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Party Membership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/product_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Product Type
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_application_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Application Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_provider_product_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Provider Product Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_prequalification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Prequalification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_prequalification_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Prequalification Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_grid_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Grid Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_membership/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Membership
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_product_application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Product Application
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_product_suspension/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Product Suspension
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/service_providing_group_product_suspension_comment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Providing Group Product Suspension Comment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/system_operator_product_type/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    System Operator Product Type
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/technical_resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Technical Resource
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Technical
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Technical
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../identifiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Identifiers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../openapi-schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Structure of JSON schemas in the OpenAPI documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resource-synchronisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource synchronisation from external sources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time-series-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time Series Service Design
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Time
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Auth
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Auth
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authn-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication methods
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authn-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authz-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authorization model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    How to interact with the FIS as an API user
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    How to interact with the FIS as an API user
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understand-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understand the model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objects-initially-created-by-the-fis-operator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objects initially created by the FIS operator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in-to-the-portal-and-create-entity-clients" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log in to the portal and create entity clients
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in-to-the-api-with-the-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log in to the API with the machine
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    User creation and access control management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understand-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understand the model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objects-initially-created-by-the-fis-operator" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objects initially created by the FIS operator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in-to-the-portal-and-create-entity-clients" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log in to the portal and create entity clients
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-in-to-the-api-with-the-machine" class="md-nav__link">
    <span class="md-ellipsis">
      
        Log in to the API with the machine
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="how-to-interact-with-the-fis-as-an-api-user">How to interact with the FIS as an API user</h1>
<p>This is a guide to get you started as a service provider that will mainly
interact with the FIS through the API.</p>
<div class="admonition info">
<p class="admonition-title">Guide for portal users</p>
<p>If you rather would like to use the portal, please head to the
<a href="TODO">getting started guide for the portal users</a>.</p>
</div>
<h2 id="understand-the-model">Understand the model</h2>
<p>The first step is to read and understand our <a href="../authn-model/">authentication model</a>.
Indeed, in order to be able to manually use the API, you need to understand what
an <em>entity</em> and a <em>party</em> are and how they make up the identity of a user in the
system.</p>
<p>You also need to understand <a href="../authz-model/#scopes"><em>scopes</em></a> and how they allow
restricting what operations an API user can do.</p>
<p>Finally, you need to understand what an <a href="../../../resources/entity_client/"><em>entity client</em></a>
is, because it is the main tool we use to allow machine access to the API.</p>
<h2 id="objects-initially-created-by-the-fis-operator">Objects initially created by the FIS operator</h2>
<p>As part of the <a href="../../../processes/service-provider-registration-and-approval/">SP registration and approval process</a>,
you need to be in contact with a FIS operator that will create objects you need
to be able to log in to the system.
The created objects are explained in the <a href="../users-management/">user management documentation</a>.</p>
<p>More precisely, objects related to the organisation correspond to step 12 in the
sequence diagram of the process, the FISO activates the parties as part of step
14, and your personal entity is created in step 16.</p>
<p>To be able to show examples below, let us assume the following entities and
parties got created by the FISO:</p>
<table>
<thead>
<tr>
<th>Entity ID</th>
<th>Entity name</th>
<th>Entity type</th>
<th>Entity business ID</th>
<th>Entity business ID type</th>
</tr>
</thead>
<tbody>
<tr>
<td>492</td>
<td>Testkraft AS</td>
<td>Organisation</td>
<td>123456789</td>
<td>Organisation number</td>
</tr>
<tr>
<td>507</td>
<td>Kari Nordmann</td>
<td>Person</td>
<td><code>knor@testkraft.test</code></td>
<td>E-mail</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Party ID</th>
<th>Party name</th>
<th>Party type</th>
<th>Party business ID</th>
<th>Party business ID type</th>
<th>Owning entity</th>
</tr>
</thead>
<tbody>
<tr>
<td>1394</td>
<td>Testkraft ORG</td>
<td>Organisation</td>
<td>123456789</td>
<td>Organisation number</td>
<td>Testkraft AS</td>
</tr>
<tr>
<td>1482</td>
<td>Testkraft SP</td>
<td>Service provider</td>
<td>1111111111111</td>
<td>GLN</td>
<td>Testkraft AS</td>
</tr>
</tbody>
</table>
<h2 id="log-in-to-the-portal-and-create-entity-clients">Log in to the portal and create entity clients</h2>
<p>Connect to the portal as your personal entity, with the credentials you have got
from the FIS operator.
You should be able to assume the organisation party.</p>
<p>Now, navigate to the page of your company's entity and add an entity client.
A cryptographic key should be generated for each client as explained in the
documentation of the <a href="../authn-methods/#jwt-bearer">JWT Bearer</a> authentication
method.
You can set up scopes to restrict what the person using machine access will be
able to do on the API.</p>
<p>Let us assume you set up one entity client.</p>
<p>Let us say you created the following entity client to enable machine access as
the service provider party, with maximal scopes (no restrictions):</p>
<table>
<thead>
<tr>
<th>Client name</th>
<th>Client ID</th>
<th>Party</th>
<th>Scopes</th>
</tr>
</thead>
<tbody>
<tr>
<td>PC #1</td>
<td>7a9016dc-ac40-4908-9462-ffb0809726ce</td>
<td>Testkraft SP</td>
<td><code>manage:auth</code>, <code>manage:data</code></td>
</tr>
</tbody>
</table>
<h2 id="log-in-to-the-api-with-the-machine">Log in to the API with the machine</h2>
<p>From now on, we will only interact with the FIS through the API.
To log in, we need to tell which client we are using and which party we want to
assume.
In the following example Python script, we forge a JWT token with the relevant
information and send a JWT Bearer login request:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span> <span class="k">as</span> <span class="n">dt</span><span class="p">,</span> <span class="n">timezone</span> <span class="k">as</span> <span class="n">tz</span><span class="p">,</span> <span class="n">timedelta</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">jwt</span>

<span class="n">auth_api_url</span> <span class="o">=</span> <span class="c1"># ... URL to the auth API (e.g., https://api.url/auth/v0)</span>
<span class="n">key</span>          <span class="o">=</span> <span class="c1"># ... private key associated to the PC #1 entity client</span>

<span class="c1"># JWT token contents</span>
<span class="n">payload</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;aud&quot;</span><span class="p">:</span> <span class="n">auth_api_url</span><span class="p">,</span>
  <span class="s2">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;7a9016dc-ac40-4908-9462-ffb0809726ce&quot;</span><span class="p">,</span> <span class="c1"># client ID for PC #1</span>
  <span class="s2">&quot;jti&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">()),</span>
  <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;no:party:gln:1111111111111&quot;</span><span class="p">,</span> <span class="c1"># GLN of Testkraft SP</span>
  <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
  <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="n">dt</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="n">tz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">120</span><span class="p">),</span>
<span class="p">}</span>

<span class="c1"># sign the token</span>
<span class="n">token</span> <span class="o">=</span> <span class="n">jwt</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">payload</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s2">&quot;RS256&quot;</span><span class="p">)</span>

<span class="c1"># send the login request</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
  <span class="n">auth_api_url</span> <span class="o">+</span> <span class="s2">&quot;/token&quot;</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/x-www-form-urlencoded&quot;</span><span class="p">},</span>
  <span class="n">data</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;grant_type&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;assertion&quot;</span><span class="p">:</span> <span class="n">token</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">)</span>
</code></pre></div>
<p>A successful response should look like the following:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJhb...fG-3SD21&quot;</span><span class="p">,</span><span class="w"> </span><span class="c1">// truncated for readability</span>
<span class="w">  </span><span class="nt">&quot;expires_in&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;issued_token_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;urn:ietf:params:oauth:token-type:jwt&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;token_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bearer&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>The value extracted from the <code>access_token</code> field is a valid JWT token you can
now use for accessing the data API like it is done behind the scenes when you
are using the portal.
If you decode the token, you will be able to see the following information:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="c1">// example values</span>
<span class="w">  </span><span class="nt">&quot;exp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2284312075</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;eid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ca2be316-5622-474d-8ef4-5c69850be76d&quot;</span><span class="p">,</span>

<span class="w">  </span><span class="c1">// user logged in as Testkraft AS</span>
<span class="w">  </span><span class="nt">&quot;entity_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">492</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// acting on behalf of Testkraft SP</span>
<span class="w">  </span><span class="nt">&quot;party_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1482</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// as a service provider</span>
<span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flex_service_provider&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="c1">// with full access rights</span>
<span class="w">  </span><span class="nt">&quot;scope&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;manage:auth manage:data&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>This can be checked with a call to the <code>userinfo</code> endpoint:</p>
<div class="highlight"><pre><span></span><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
  <span class="n">auth_api_url</span> <span class="o">+</span> <span class="s2">&quot;/userinfo&quot;</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="n">user_token</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">},</span>
<span class="p">)</span>
</code></pre></div>
<p>The response will contain the following body:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;current_role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flex_service_provider&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;entity_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">492</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;entity_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Testkraft AS&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;party_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1482</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;party_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Testkraft SP&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sub&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">334</span>
<span class="p">}</span>
</code></pre></div>
<p>Now, you can freely use the data API:</p>
<div class="highlight"><pre><span></span><code><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
  <span class="n">data_api_url</span> <span class="o">+</span> <span class="s2">&quot;/party/1482&quot;</span><span class="p">,</span>
  <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Authorization&quot;</span><span class="p">:</span> <span class="sa">f</span><span class="s2">&quot;Bearer </span><span class="si">{</span><span class="n">user_token</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">},</span>
<span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1482</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Testkraft SP&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;business_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1111111111111&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;business_id_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;gln&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;entity_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">492</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;service_provider&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;flex_service_provider&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;active&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;recorded_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2023-12-31 00:00:00 Europe/Oslo&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;recorded_by&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="p">}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.indexes", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>